"""Initial migration

Revision ID: 4ca2c7038fb2
Revises: 
Create Date: 2024-12-26 17:35:00.157444

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = '4ca2c7038fb2'
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('users',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=80), nullable=False),
    sa.Column('email', sa.String(length=120), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('email')
    )
    op.drop_table('_prisma_migrations')
    with op.batch_alter_table('pms_penilaian_individu_h_pc', schema=None) as batch_op:
        batch_op.drop_index('periode_h_idx_copy1')

    op.drop_table('pms_penilaian_individu_h_pc')
    op.drop_table('pms_template_individu_h_pc')
    with op.batch_alter_table('pms_penilaian_individu_d2_pc', schema=None) as batch_op:
        batch_op.drop_index('d1_idx_copy1')

    op.drop_table('pms_penilaian_individu_d2_pc')
    op.drop_table('pms_template_individu_d2_pc')
    op.drop_table('pms_kelompok_kpii')
    with op.batch_alter_table('m_model', schema=None) as batch_op:
        batch_op.drop_index('model_name')

    op.drop_table('m_model')
    with op.batch_alter_table('pms_penilaian_individu_d1_pc', schema=None) as batch_op:
        batch_op.drop_index('penilaian_h_idx_copy1')

    op.drop_table('pms_penilaian_individu_d1_pc')
    op.drop_table('pms_aspek')
    op.drop_table('pms_periode_d')
    op.drop_table('pms_template_individu_d1_pc')
    op.drop_table('psl_h')
    with op.batch_alter_table('t_harta', schema=None) as batch_op:
        batch_op.drop_index('domain_key')

    op.drop_table('t_harta')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('t_harta',
    sa.Column('harta_guid', sa.VARCHAR(length=32), server_default=sa.text("''::character varying"), autoincrement=False, nullable=False),
    sa.Column('domain_key', sa.VARCHAR(length=32), server_default=sa.text("''::character varying"), autoincrement=False, nullable=False),
    sa.Column('domain_name', sa.VARCHAR(length=128), server_default=sa.text("''::character varying"), autoincrement=False, nullable=False),
    sa.Column('sebaran_dt', sa.VARCHAR(length=10), autoincrement=False, nullable=True),
    sa.Column('region_id', sa.VARCHAR(length=16), autoincrement=False, nullable=True),
    sa.Column('meta_data', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('tags', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('created_dttm', postgresql.TIMESTAMP(precision=3), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('created_by_name', sa.VARCHAR(length=128), autoincrement=False, nullable=True),
    sa.Column('modified_dttm', postgresql.TIMESTAMP(precision=3), autoincrement=False, nullable=True),
    sa.Column('modified_by', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('modified_by_name', sa.VARCHAR(length=128), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('harta_guid', name='t_harta_pkey')
    )
    with op.batch_alter_table('t_harta', schema=None) as batch_op:
        batch_op.create_index('domain_key', ['domain_key'], unique=False)

    op.create_table('psl_h',
    sa.Column('pslh_id', sa.INTEGER(), autoincrement=False, nullable=False),
    sa.Column('pslh_nrp', sa.VARCHAR(length=20), autoincrement=False, nullable=False),
    sa.Column('useraccount', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('useremail', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('group_id', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_ktp', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('pslh_foto', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_file_ktp', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_nama', sa.VARCHAR(length=60), autoincrement=False, nullable=False),
    sa.Column('pslh_tempat_lhr', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_tgl_lhr', sa.DATE(), autoincrement=False, nullable=False),
    sa.Column('pslh_kelamin', sa.VARCHAR(length=1), server_default=sa.text("'L'::character varying"), autoincrement=False, nullable=False),
    sa.Column('pslh_tgl_masuk', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('pslh_alasan', sa.VARCHAR(length=1), server_default=sa.text("'B'::character varying"), autoincrement=False, nullable=True),
    sa.Column('pslh_agama', sa.VARCHAR(length=5), server_default=sa.text("'I'::character varying"), autoincrement=False, nullable=True),
    sa.Column('pslh_hobby', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('suku_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_alamat', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_alamat_alternatif', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_kota', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('prop_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_kdpos', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_telp', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_hp', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_hp_alternatif', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_email', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_wrn_rambut', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('pslh_wrn_mata', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('pslh_wrn_kulit', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('pslh_tinggi_bdn', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_berat_bdn', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_gol_darah', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_nama', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_alamat', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_kota', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_prop', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_kdpos', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_telp', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_ibu_hp', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_nama', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_alamat', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_kota', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_prop', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_kdpos', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_telp', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_klg_hp', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=25), autoincrement=False, nullable=True),
    sa.Column('created_on', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('modified_by', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('modified_on', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('updver', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_nama_kecil', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('pslh_status', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='N =  Non Organik, O = Organik'),
    sa.Column('pslh_nrp_lama', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('pslh_photo', postgresql.BYTEA(), autoincrement=False, nullable=True),
    sa.Column('pslh_baju', sa.VARCHAR(length=5), autoincrement=False, nullable=True),
    sa.Column('pslh_celana', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_rok', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_baju_or', sa.VARCHAR(length=5), autoincrement=False, nullable=True),
    sa.Column('pslh_jas', sa.VARCHAR(length=5), autoincrement=False, nullable=True),
    sa.Column('pslh_ketelpak', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_topipet', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_sepatu', sa.NUMERIC(precision=32, scale=0), autoincrement=False, nullable=True),
    sa.Column('pslh_tgl_keluar', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('pslh_status_sipil', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('pslh_no_rekening', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pg_kode', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('pslh_status_pajak', sa.VARCHAR(length=3), autoincrement=False, nullable=True),
    sa.Column('pslh_iuran_astek', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('pslh_no_astek', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_tgl_awal_astek', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('pslh_npwp', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_tgl_npwp', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('pslh_status_pjk', sa.VARCHAR(length=3), autoincrement=False, nullable=True),
    sa.Column('pslh_jt_pajak', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pslh_tmt_tanggungan', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('pslh_alasan_keluar', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('pslh_sk_keluar', sa.VARCHAR(length=25), autoincrement=False, nullable=True),
    sa.Column('pg_kode_ip', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('pg_kode_jamsostek', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('pg_kode_ydpp', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('pg_kode_sp_pelni', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('pg_kode_ykpp', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('old_no_rekening', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('flag_bpjs', sa.VARCHAR(length=1), server_default=sa.text("'Y'::character varying"), autoincrement=False, nullable=True),
    sa.Column('no_bpjs', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('tgl_ikut_bpjs', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('ial_no_rekening', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('pslh_hp2', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('pslh_hp3', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('jab_kode', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('jab_ket', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('jab_klas', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('utk_kode', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('utk_ket', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('fp_template_0', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('fp_template_1', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('pslh_status_kawin', sa.VARCHAR(length=5), server_default=sa.text("'TK'::character varying"), autoincrement=False, nullable=True),
    sa.Column('no_sk', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('tgl_sk', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('fp_flag', sa.SMALLINT(), server_default=sa.text('0'), autoincrement=False, nullable=True, comment='0 = update; 1 = skip update'),
    sa.Column('level0', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level1', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level2', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level3', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level4', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level5', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level6', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('level7', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('homebase', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_on_ora', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('modified_on_ora', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('not_in', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('mobile_token', sa.TEXT(), autoincrement=False, nullable=True, comment='untuk login ke mobile'),
    sa.Column('mobile_session', sa.TEXT(), autoincrement=False, nullable=True, comment='untuk enkripsi mobile'),
    sa.Column('device_id', sa.VARCHAR(length=200), autoincrement=False, nullable=True),
    sa.Column('jab_kelompok', sa.VARCHAR(length=100), autoincrement=False, nullable=True, comment='dari tabel jabatan_kelompok berguna untuk pengelompokan gaji'),
    sa.Column('garis_kewenangan_primary', sa.VARCHAR(length=10), server_default=sa.text('NULL::character varying'), autoincrement=False, nullable=True, comment='PJS,MPP,PENGENALAN'),
    sa.Column('garis_kewenangan_secondary', sa.VARCHAR(length=10), server_default=sa.text('NULL::character varying'), autoincrement=False, nullable=True, comment='PLT,PLH,AJS,PENGENALAN'),
    sa.Column('jab_kode_secondary', sa.VARCHAR(length=100), server_default=sa.text('NULL::character varying'), autoincrement=False, nullable=True, comment='kode jabatan untuk merangkap'),
    sa.Column('jab_ket_secondary', sa.VARCHAR(length=255), server_default=sa.text('NULL::character varying'), autoincrement=False, nullable=True, comment='jabatan keterangan untuk merangkap'),
    sa.Column('utk_kode_secondary', sa.VARCHAR(length=255), server_default=sa.text('NULL::character varying'), autoincrement=False, nullable=True, comment='UNIT KERJA keterangan untuk merangkap'),
    sa.Column('utk_ket_secondary', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('end_date', sa.DATE(), autoincrement=False, nullable=True, comment='tanggal akhir secondary'),
    sa.Column('file_bpjs', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='file upload bpjs'),
    sa.Column('file_bpjstk', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='file upload bpjstk atau no  astek'),
    sa.Column('file_npwp', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='file upload npwp'),
    sa.Column('file_rekening', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='file_upload_rekening'),
    sa.Column('pslh_tgl_keluar_dari_lahir', sa.DATE(), autoincrement=False, nullable=True, comment='generate tanggal keluar dari tanggal lahir sesuai usia'),
    sa.Column('gol_id', sa.SMALLINT(), autoincrement=False, nullable=True, comment='golongan id'),
    sa.Column('gol_pangkat', sa.VARCHAR(length=100), autoincrement=False, nullable=True, comment='golongan pangkat'),
    sa.Column('last_longitude', sa.VARCHAR(length=100), autoincrement=False, nullable=True, comment='posisi longitude terakhir user (mobile)'),
    sa.Column('last_latitude', sa.VARCHAR(length=100), autoincrement=False, nullable=True, comment='posisi latitude terakhir user (mobile)'),
    sa.Column('last_update_loc', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True, comment='waktu terakhir update location'),
    sa.Column('status_penempatan', sa.VARCHAR(length=1), autoincrement=False, nullable=True, comment='1 = Pelni; 2 = Manage Service; 3 = Magang Bersertifikat'),
    sa.Column('status_ptkp', sa.VARCHAR(length=10), autoincrement=False, nullable=True, comment='Wajib Pajak Tidak Kawin Tanpa Tanggungan\tTidak Kawin/TK0\r\n\r\nWajib Pajak Tidak Kawin dengan Satu Tanggungan\tTidak Kawin/TK1\r\n\r\nWajib Pajak Kawin dengan Dua Tanggungan\tTidak Kawin/TK2\r\n\r\nWajib Pajak Kawin dengan Tiga Tanggungan\tTidak Kawin/TK3\t\r\n\r\nWajib Pajak Kawin Tanpa Tanggungan Kawin/K0\r\n\r\nWajib Pajak Kawin dengan Satu Tanggungan Kawin/K1\r\n\r\nWajib Pajak Kawin dengan Dua Tanggungan Kawin/K2\r\n\r\nWajib Pajak Kawin dengan Tiga Tanggungan Kawin/K3'),
    sa.Column('status_ptkp_temp', sa.VARCHAR(length=10), autoincrement=False, nullable=True),
    sa.Column('pslh_tgl_mpp', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True, comment='Saat pegawai ditambahkan disimpan kapan waktu dibuat'),
    sa.Column('modified_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True, comment='Saat pegawai diubah diupdate kapan waktu diubah\r\n(dipake buat integrasi ws hrm)'),
    sa.Column('last_mutasi_definitif_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True, comment='Saat pegawai ada mutasi definitf diupdate waktunya'),
    sa.Column('last_mutasi_definitif_by', sa.VARCHAR(length=10), autoincrement=False, nullable=True, comment='Saat pegawai ada mutasi definitif diupdate siapa yang approve mutasi'),
    sa.Column('id_daerah_domisili', sa.VARCHAR(length=16), autoincrement=False, nullable=True),
    sa.Column('id_daerah_ktp', sa.VARCHAR(length=16), autoincrement=False, nullable=True),
    sa.Column('status_mutasi', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='Status mutasi terakhir (misal DEFINITIF, AJS, TD, MN,dsb)'),
    sa.Column('pslh_tgl_organik', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('id_sk_organisasi', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_sk_jabatan', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('jab_kode_prev', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('utk_kode_prev', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('pslh_no_kk', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='Nama Bank Rekening'),
    sa.Column('pslh_nama_rekening_bank', sa.VARCHAR(length=50), autoincrement=False, nullable=True, comment='No Kartu keluarga'),
    sa.Column('referral_code', sa.VARCHAR(length=8), autoincrement=False, nullable=True, comment='Kode referral untuk pendaftaran PELNI Mobile'),
    sa.Column('fcm_token', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('modified_date_pajak', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('modified_by_pajak', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('status_integrasi_erekrutmen', sa.VARCHAR(length=1), server_default=sa.text('NULL::character varying'), autoincrement=False, nullable=True, comment='Y= pegawai integrasi dari erekrutmen'),
    sa.Column('waktu_integrasi_erekrutmen', postgresql.TIMESTAMP(precision=6), server_default=sa.text('NULL::timestamp without time zone'), autoincrement=False, nullable=True, comment='waktu saat proses insert dari erekrutmen'),
    sa.Column('cabang', sa.VARCHAR(length=5), autoincrement=False, nullable=True),
    sa.Column('golongan', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('pangkat', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('masa_kerja', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('mulai_kerja', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('upah_pokok', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('tunajangan_tetap', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('ip_tk', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('gelar_depan', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('gelar_belakang', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('nama_kecil', sa.VARCHAR(length=10), autoincrement=False, nullable=True),
    sa.Column('jak_klas', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('pslh_id', name='psl_h_copy1_pkey8')
    )
    op.create_table('pms_template_individu_d1_pc',
    sa.Column('id_template_d1', sa.INTEGER(), server_default=sa.text("nextval('pms_template_individu_d1_pc_id_template_d1_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('id_template_h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_aspek', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('nama_aspek', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('bobot_penilaian', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True, comment='Ambil dari pms_bobot_penilaian (persentase)'),
    sa.Column('maksimal_kpi', sa.SMALLINT(), server_default=sa.text('0'), autoincrement=False, nullable=True, comment='Ambil dari pms_rata_indeks (jumlah_kpi)'),
    sa.Column('rata_indeks_kpi', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('indeks', sa.VARCHAR(length=100), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('capaian_aspek', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('nilai_kinerja', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('id_reference', sa.INTEGER(), autoincrement=False, nullable=True, comment='Diisi untuk template individu'),
    sa.ForeignKeyConstraint(['id_aspek'], ['pms_aspek.id_aspek'], name='pms_template_individu_d1_pc_copy1_id_aspek_fkey1'),
    sa.PrimaryKeyConstraint('id_template_d1', name='pms_template_individu_d1_pc_copy1_pkey1')
    )
    op.create_table('pms_periode_d',
    sa.Column('id_periode_d', sa.INTEGER(), server_default=sa.text("nextval('pms_periode_d_id_periode_d_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('id_periode_h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_periode_d', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('tgl_awal_periode', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_akhir_periode', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_awal_penilaian', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('tgl_akhir_penilaian', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('deleted_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('deleted_by', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('flag_dinilai', sa.VARCHAR(length=1), server_default=sa.text("'Y'::character varying"), autoincrement=False, nullable=True, comment='Y/N: Bila Y maka jumlah periode ini akan digunakan sebagai pembagi dalam menentukan nilai akhir pegawai (misal jumlah flag_total_nilai utk periode tertentu adalah 4, maka nilai akhir (final) pegawai akan dibagi 4)'),
    sa.Column('is_copy', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('copy_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id_periode_d', name='pms_periode_d_copy1_pkey'),
    postgresql_ignore_search_path=False
    )
    op.create_table('pms_aspek',
    sa.Column('id_aspek', sa.INTEGER(), server_default=sa.text("nextval('pms_aspek_id_aspek_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('nama_aspek', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('no_urut', sa.SMALLINT(), autoincrement=False, nullable=True, comment='Urutan saat ditampilkan di laporan'),
    sa.Column('deskripsi_aspek', sa.TEXT(), autoincrement=False, nullable=True, comment='D (Darat) / L (Laut)'),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True, comment='Y / N'),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('flag_tambahan', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='Y = Jika Aspek Tambahan, N = Bukan Aspek Tambahan'),
    sa.Column('flag_filter_kpi', sa.VARCHAR(length=1), server_default=sa.text("'Y'::character varying"), autoincrement=False, nullable=True, comment='Y = KPI akan difilter oleh proses bisnis, N = KPI tidak akan difilter oleh proses bisnis'),
    sa.Column('deleted_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('deleted_by', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id_aspek', name='pms_aspek_copy1_pkey')
    )
    op.create_table('pms_penilaian_individu_d1_pc',
    sa.Column('id_penilaian_d1', sa.INTEGER(), server_default=sa.text("nextval('pms_penilaian_individu_d1_pc_id_penilaian_d1_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('id_penilaian_h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_aspek', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('nama_aspek', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('bobot_penilaian', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True, comment='Ambil dari pms_bobot_penilaian (persentase)'),
    sa.Column('maksimal_kpi', sa.SMALLINT(), autoincrement=False, nullable=True, comment='Ambil dari pms_rata_indeks (jumlah_kpi)'),
    sa.Column('rata_indeks_kpi', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('indeks', sa.VARCHAR(length=100), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('id_template_d1', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('capaian_aspek', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('nilai_kinerja', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id_penilaian_d1', name='pms_penilaian_individu_d1_pc_copy1_pkey')
    )
    with op.batch_alter_table('pms_penilaian_individu_d1_pc', schema=None) as batch_op:
        batch_op.create_index('penilaian_h_idx_copy1', ['id_penilaian_h'], unique=False)

    op.create_table('m_model',
    sa.Column('model_key', sa.VARCHAR(length=32), server_default=sa.text("''::character varying"), autoincrement=False, nullable=False),
    sa.Column('model_id', sa.VARCHAR(length=32), server_default=sa.text("''::character varying"), autoincrement=False, nullable=False),
    sa.Column('model_name', sa.VARCHAR(length=32), server_default=sa.text("''::character varying"), autoincrement=False, nullable=False),
    sa.Column('model_year', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('is_active', sa.INTEGER(), autoincrement=False, nullable=False),
    sa.Column('meta_data', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('parent_id', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('tags', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('created_dttm', postgresql.TIMESTAMP(precision=3), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('created_by_name', sa.VARCHAR(length=128), autoincrement=False, nullable=True),
    sa.Column('modified_dttm', postgresql.TIMESTAMP(precision=3), autoincrement=False, nullable=True),
    sa.Column('modified_by', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('modified_by_name', sa.VARCHAR(length=128), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('model_key', 'model_id', 'model_year', name='m_model_pkey')
    )
    with op.batch_alter_table('m_model', schema=None) as batch_op:
        batch_op.create_index('model_name', ['model_name'], unique=False)

    op.create_table('pms_kelompok_kpii',
    sa.Column('id_kelompok', sa.INTEGER(), server_default=sa.text("nextval('pms_kelompok_kpii_id_kelompok_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('kode_kelompok', sa.VARCHAR(length=64), autoincrement=False, nullable=True),
    sa.Column('ket_kelompok', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('jabatan_kelompok', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('tipe_penempatan', sa.VARCHAR(length=1), autoincrement=False, nullable=True, comment='D = Darat, L = Laut'),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('deleted_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('deleted_by', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id_kelompok', name='pms_kelompok_kpii_copy1_pkey'),
    postgresql_ignore_search_path=False
    )
    op.create_table('pms_template_individu_d2_pc',
    sa.Column('id_template_d2', sa.INTEGER(), server_default=sa.text("nextval('pms_template_individu_d2_pc_id_template_d2_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('id_template_d1', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_prosbis', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('ket_prosbis', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('id_kpii', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_kpii', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('id_impact', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('kode_impact', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('bobot_impact', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('id_control', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('kode_control', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('bobot_control', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('indeks_kpi', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('bobot_kpi', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('target', sa.NUMERIC(precision=10, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('realisasi', sa.NUMERIC(precision=10, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('id_rumus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_rumus', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('tipe_rumus', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('text_rumus', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('polarisasi_rumus', sa.VARCHAR(length=10), autoincrement=False, nullable=True),
    sa.Column('kriteria_rumus', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('capaian_kpi', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('nilai_capaian_kpi', sa.NUMERIC(precision=5, scale=0), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('capaian_aspek', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True, comment='Dipindah ke detail 1'),
    sa.Column('nilai_kinerja', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True, comment='Dipindah ke detail 1'),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('flag_rumus_custom', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True),
    sa.Column('id_reference', sa.INTEGER(), autoincrement=False, nullable=True, comment='ID akan terisi dengan id_d2 dari template lain yang menyatakan sumbernya dicopy.'),
    sa.Column('no_urut', sa.SMALLINT(), autoincrement=False, nullable=True),
    sa.Column('satuan_target', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('flag_evidence', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='Y = DIPERLUKAN UPLOAD FILE EVIDENCE PADA SAAT SELF ASESMENT, N: TIDAK DIPERLUKAN FILE EVIDENCE SAAT SELF ASSESMENT'),
    sa.PrimaryKeyConstraint('id_template_d2', name='pms_template_individu_d2_pc_copy1_pkey1')
    )
    op.create_table('pms_penilaian_individu_d2_pc',
    sa.Column('id_penilaian_d2', sa.INTEGER(), server_default=sa.text("nextval('pms_penilaian_individu_d2_pc_id_penilaian_d2_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('id_penilaian_d1', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_prosbis', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('ket_prosbis', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('id_kpii', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_kpii', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('id_impact', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('kode_impact', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('bobot_impact', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('id_control', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('kode_control', sa.VARCHAR(length=2), autoincrement=False, nullable=True),
    sa.Column('bobot_control', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('indeks_kpi', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('bobot_kpi', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('target', sa.NUMERIC(precision=10, scale=2), autoincrement=False, nullable=True),
    sa.Column('realisasi', sa.NUMERIC(precision=10, scale=2), autoincrement=False, nullable=True),
    sa.Column('id_rumus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_rumus', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('tipe_rumus', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('text_rumus', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('polarisasi_rumus', sa.VARCHAR(length=10), autoincrement=False, nullable=True),
    sa.Column('kriteria_rumus', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('capaian_kpi', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('nilai_capaian_kpi', sa.NUMERIC(precision=5, scale=0), autoincrement=False, nullable=True),
    sa.Column('capaian_aspek', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('nilai_kinerja', sa.NUMERIC(precision=5, scale=2), autoincrement=False, nullable=True),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('flag_rumus_custom', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True),
    sa.Column('id_template_source', sa.INTEGER(), autoincrement=False, nullable=True, comment='Diisi untuk id_template dimana form ini dicopy'),
    sa.Column('justifikasi_pegawai', sa.TEXT(), autoincrement=False, nullable=True, comment='Diisi untuk keterangan apabila realisasi tidak memenuhi target'),
    sa.Column('justifikasi_atasan', sa.TEXT(), autoincrement=False, nullable=True, comment='Diisi untuk keterangan apabila realisasi tidak memenuhi target'),
    sa.Column('no_urut', sa.SMALLINT(), autoincrement=False, nullable=True),
    sa.Column('justifikasi_file', sa.TEXT(), autoincrement=False, nullable=True, comment='Digunakan apabila ada file justifikasi yang perlu diupload'),
    sa.Column('satuan_target', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('flag_evidence', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='Y = DIPERLUKAN UPLOAD FILE EVIDENCE PADA SAAT SELF ASESMENT, N= TIDAK DIPERLUKAN FILE EVIDENCE SAAT SELF ASSESMENT'),
    sa.Column('justifikasi_revisi', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True, comment='FORMAT= JSON, berisi terkait riwayat revisi terkait KPI ini dari atasan pegawai'),
    sa.Column('saran_pengembangan', sa.VARCHAR(length=15), autoincrement=False, nullable=True, comment='Mentoring | Coaching | Pelatihan'),
    sa.Column('nama_pelatihan', sa.VARCHAR(length=200), autoincrement=False, nullable=True),
    sa.Column('kompetensi_pelatihan', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('jobfamily_pelatihan', sa.VARCHAR(length=60), autoincrement=False, nullable=True),
    sa.Column('topik_pelatihan', sa.VARCHAR(length=60), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id_penilaian_d2', name='pms_penilaian_individu_d2_pc_pkey')
    )
    with op.batch_alter_table('pms_penilaian_individu_d2_pc', schema=None) as batch_op:
        batch_op.create_index('d1_idx_copy1', ['id_penilaian_d1'], unique=False)

    op.create_table('pms_template_individu_h_pc',
    sa.Column('id_template_h', sa.INTEGER(), server_default=sa.text("nextval('pms_template_individu_h_pc_id_template_h_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('jab_kode', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('utk_kode', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('tahun', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_periode_h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('periode_h', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('jenis_periode_h', sa.VARCHAR(length=2), autoincrement=False, nullable=True, comment='Q = Quartal, W = Triwulan, S = Semester, T = Tahun'),
    sa.Column('periode_dinilai', sa.VARCHAR(length=150), autoincrement=False, nullable=True),
    sa.Column('periode_penilaian', sa.VARCHAR(length=150), autoincrement=False, nullable=True),
    sa.Column('id_periode_d', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_periode_d', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('tgl_awal_periode', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_akhir_periode', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_awal_penilaian', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_akhir_penilaian', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('jab_kelompok', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('tipe_penempatan', sa.VARCHAR(length=1), autoincrement=False, nullable=True, comment='D = Darat , L = Laut'),
    sa.Column('id_kelompok', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_kelompok', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('nilai_kerja_final', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('status', sa.VARCHAR(length=1), server_default=sa.text("'D'::character varying"), autoincrement=False, nullable=True, comment='D = DRAFT, F = FINAL'),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('pslh_nrp', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('id_reference', sa.INTEGER(), autoincrement=False, nullable=True, comment='Digunakan untuk reference apabila template ini merupakan copyan dari template lain'),
    sa.Column('flag_secondary', sa.VARCHAR(length=5), autoincrement=False, nullable=True, comment='PLT/PLH (Bila Ada)'),
    sa.Column('catatan', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['id_kelompok'], ['pms_kelompok_kpii.id_kelompok'], name='pms_template_individu_h_pc_copy1_id_kelompok_fkey1'),
    sa.ForeignKeyConstraint(['id_periode_d'], ['pms_periode_d.id_periode_d'], name='pms_template_individu_h_pc_copy1_id_periode_d_fkey1'),
    sa.PrimaryKeyConstraint('id_template_h', name='pms_template_individu_h_pc_copy1_pkey1')
    )
    op.create_table('pms_penilaian_individu_h_pc',
    sa.Column('id_template_h', sa.INTEGER(), server_default=sa.text("nextval('pms_penilaian_individu_h_pc_id_template_h_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('pslh_nrp', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('jab_kode', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('utk_kode', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('tahun', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('id_periode_h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('periode_h', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('jenis_periode_h', sa.VARCHAR(length=2), autoincrement=False, nullable=True, comment='Q = Quartal, W = Triwulan, S = Semester, T = Tahun'),
    sa.Column('periode_dinilai', sa.VARCHAR(length=150), autoincrement=False, nullable=True),
    sa.Column('periode_penilaian', sa.VARCHAR(length=150), autoincrement=False, nullable=True),
    sa.Column('id_periode_d', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_periode_d', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('tgl_awal_periode', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_akhir_periode', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_awal_penilaian', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('tgl_akhir_penilaian', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('jab_kelompok', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('tipe_penempatan', sa.VARCHAR(length=1), autoincrement=False, nullable=True, comment='D = Darat , L = Laut'),
    sa.Column('id_kelompok', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ket_kelompok', sa.VARCHAR(length=30), autoincrement=False, nullable=True),
    sa.Column('nilai_kerja_final', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0'), autoincrement=False, nullable=True),
    sa.Column('status', sa.VARCHAR(length=1), server_default=sa.text("'D'::character varying"), autoincrement=False, nullable=True, comment='D = DRAFT, F = FINAL'),
    sa.Column('flag_aktif', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('created_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('created_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('updated_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('updated_date', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('id_template_source', sa.INTEGER(), autoincrement=False, nullable=True, comment='REFER KE TABEL PMS_TEMPLATE_INDIVIDU_H'),
    sa.Column('status_pengajuan', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='FLAG PENGAJUAN DARI MANAGER KE SDM; Y = DIKIRIM OLEH MANAGER, N = DRAFT DI MANAGER, F = DISETUJUI OLEH SDM'),
    sa.Column('flag_perubahan', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='FLAG JIKA ADA PERUBAHAN DI TEMPLATE PENILAIAN'),
    sa.Column('flag_secondary', sa.VARCHAR(length=5), autoincrement=False, nullable=True, comment='PLT/PLH (Bila Ada)'),
    sa.Column('nilai_kerja_final_raw', sa.NUMERIC(precision=5, scale=2), server_default=sa.text('0.00'), autoincrement=False, nullable=True),
    sa.Column('flag_self_assesment', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='Y/N: flag apakah pegawai sudah melakukan self asesment?'),
    sa.Column('published_at', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True, comment='Tanggal publish dari SDM ke atasan pegawai'),
    sa.Column('published_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('approved_at', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True, comment='Tanggal approve dari atasan pegawai / crontab terkait template ini'),
    sa.Column('approved_by', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('keterangan', sa.TEXT(), autoincrement=False, nullable=True, comment='HANYA TERISI BILA TERJADI AUTO APPROVE'),
    sa.Column('flag_has_revision', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='Y/N. Digunakan sebagai penanda apakah dalam KPI nya ada yg mendapatkan revisi?'),
    sa.Column('flag_revisi', sa.VARCHAR(length=1), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=True, comment='Y/N. Digunakan untuk flag apakah dikembalikan ke pegawai atau tidak'),
    sa.Column('approve_template_penilaian_atasan', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('approve_penilaian_atasan', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('krmh_id', sa.INTEGER(), autoincrement=False, nullable=False),
    sa.Column('krmh_no', sa.VARCHAR(length=100), autoincrement=False, nullable=False),
    sa.Column('krmh_tgl', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=False),
    sa.Column('krmh_ket', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('modified_by', sa.VARCHAR(length=15), autoincrement=False, nullable=True),
    sa.Column('modified_on', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('updver', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('krmh_auto_gen', sa.VARCHAR(length=10), server_default=sa.text("'N'::character varying"), autoincrement=False, nullable=False),
    sa.Column('krmh_tmt', postgresql.TIMESTAMP(precision=0), autoincrement=False, nullable=True),
    sa.Column('stat_approved', sa.SMALLINT(), server_default=sa.text('1'), autoincrement=False, nullable=True),
    sa.Column('jenis_mutasi', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('abkm_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('created_on_ora', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('modified_on_ora', postgresql.TIMESTAMP(precision=6), autoincrement=False, nullable=True),
    sa.Column('end_date', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('id_kontrak', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id_template_h', name='pms_penilaian_individu_h_pc_copy1_pkey')
    )
    with op.batch_alter_table('pms_penilaian_individu_h_pc', schema=None) as batch_op:
        batch_op.create_index('periode_h_idx_copy1', ['id_periode_h', 'tipe_penempatan'], unique=False)

    op.create_table('_prisma_migrations',
    sa.Column('id', sa.VARCHAR(length=36), autoincrement=False, nullable=False),
    sa.Column('checksum', sa.VARCHAR(length=64), autoincrement=False, nullable=False),
    sa.Column('finished_at', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=True),
    sa.Column('migration_name', sa.VARCHAR(length=255), autoincrement=False, nullable=False),
    sa.Column('logs', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('rolled_back_at', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=True),
    sa.Column('started_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('now()'), autoincrement=False, nullable=False),
    sa.Column('applied_steps_count', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('id', name='_prisma_migrations_pkey')
    )
    op.drop_table('users')
    # ### end Alembic commands ###
